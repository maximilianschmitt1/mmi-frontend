<header class="page-header">
  <h1>Meine Habits</h1>
  <nav><button ui-sref="create-habit" class="primary">Neuer Habit</button></nav>
</header>
<section class="page-body">
  <ul ng-if="habits.length" class="habit-list">
    <li class="habit-list-item" ng-repeat="habit in habits">
      <div ng-click="toggleDetails(habit)" class="habit-overview">
        <div class="level">{{habit.level.value}}</div>
        <div>
          <h2>{{habit.name}}</h2>
        </div>
        <nav>
          <span ng-if="habit.today" class="activity-{{habit.today.type}}">
            {{habit.today === 'success' ? 'Heute geschafft' : 'Heute verfehlt'}}
          </span>
          <button ng-if="!habit.today" ng-click="succeed(habit)" class="primary">Tagesziel erreicht</button>
          <button ng-if="!habit.today" ng-click="fail(habit)">verfehlt</button>
        </nav>
      </div>
      <div ng-if="isToggled(habit)" class="habit-detail">
        <div>Du arbeitest seit {{habit.daysSince}} Tagen an diesem Habit.</div>
        <div class="streak-box">
          <div ng-repeat="day in habit.days" class="day {{day.type}} {{day.isToday ? 'today' : ''}}"></div>
        </div>
      </div>
    </li>
  </ul>
  <div ng-if="!habits.length" class="empty-list">
    <p>Du hast noch keine Habits angelegt.</p>
  </div>
</section>